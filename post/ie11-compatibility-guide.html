<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>IE11 兼容性小指南 | @chaoming.edc blog</title>
  <meta name="author" content="chaoming.edc|blastmann">
  
  <meta name="description" content="track my learning">
  
  
  <meta name="keywords" content="windowsphone,windows,xaml,developer,iOS,OSX,productive">
  
  
  <meta property="og:title" content="IE11 兼容性小指南"/>
  <meta name="title" content="IE11 兼容性小指南"/>

  <meta property="displaydate" content="2013-08-29T03:20:00.000Z"/>

  <meta property="og:site_name" content="@chaoming.edc blog"/>
  <meta name="copyright" content="@chaoming.edc blog"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta property="og:image" content="undefined"/>
  
   <meta name="google-site-verification" content="nTpmJEYYJgba5eVrpd_dfj1W_Ayr-NjZ1vFvhi5aqzI" />
   <meta name="baidu-site-verification" content="QO84kHVH0w" />
   <link rel="apple-touch-icon" href="/icon.png" />
   <link rel="shortcut icon" href="/favicon.png" >
   <link rel="alternate" href="http://blog.edi-c.com/atom.xml" title="@chaoming.edc blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
  <div id="content" class="inner">
    <aside id="sidebar" class="alignleft">
      <div class="navigationBar">
        <a href="/">@chaoming.edc blog</a>
      </div>
    	
  <nav class="widget" id="menu">
	<ul>
    
      <li class="cell"><a class="next" href="/">Home</a><li>
    
      <li class="cell"><a class="next" href="/archives/">Archives</a><li>
    
      <li class="cell"><a class="next" href="/about/">About</a><li>
    
      <li class="cell"><a class="next" href="/atom.xml">Subscribe</a><li>
    
    </ul>
</nav>

  <div class="widget weibo">
<iframe width="100%" height="100" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=110&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=0&isWeibo=0&isFans=0&uid=newdings&verifier=78e1ee4d&colors=ffffff,ffffff,999,000,ecfbfd&dpc=1"></iframe>
</div>

  

  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/IE/" style="font-size: 10.00px;">IE</a><a href="/tags/Swift/" style="font-size: 10.00px;">Swift</a><a href="/tags/WPF/" style="font-size: 10.00px;">WPF</a><a href="/tags/alfred/" style="font-size: 10.00px;">alfred</a><a href="/tags/aspnet/" style="font-size: 10.00px;">aspnet</a><a href="/tags/browser/" style="font-size: 10.00px;">browser</a><a href="/tags/csharp/" style="font-size: 10.00px;">csharp</a><a href="/tags/css3/" style="font-size: 12.50px;">css3</a><a href="/tags/dev/" style="font-size: 10.00px;">dev</a><a href="/tags/diary/" style="font-size: 10.00px;">diary</a><a href="/tags/directx/" style="font-size: 10.00px;">directx</a><a href="/tags/fiddler/" style="font-size: 12.50px;">fiddler</a><a href="/tags/google/" style="font-size: 10.00px;">google</a><a href="/tags/iOS/" style="font-size: 10.00px;">iOS</a><a href="/tags/ie/" style="font-size: 10.00px;">ie</a><a href="/tags/ie11/" style="font-size: 10.00px;">ie11</a><a href="/tags/javascript/" style="font-size: 10.00px;">javascript</a><a href="/tags/js/" style="font-size: 10.00px;">js</a><a href="/tags/keyboard/" style="font-size: 10.00px;">keyboard</a><a href="/tags/mac/" style="font-size: 10.00px;">mac</a><a href="/tags/markdown/" style="font-size: 10.00px;">markdown</a><a href="/tags/mvc/" style="font-size: 10.00px;">mvc</a><a href="/tags/note/" style="font-size: 10.00px;">note</a><a href="/tags/notes/" style="font-size: 17.50px;">notes</a><a href="/tags/plugin/" style="font-size: 10.00px;">plugin</a><a href="/tags/productivity/" style="font-size: 10.00px;">productivity</a><a href="/tags/programming/" style="font-size: 12.50px;">programming</a><a href="/tags/python/" style="font-size: 10.00px;">python</a><a href="/tags/reflow/" style="font-size: 10.00px;">reflow</a><a href="/tags/sqlite/" style="font-size: 10.00px;">sqlite</a><a href="/tags/st2/" style="font-size: 17.50px;">st2</a><a href="/tags/summaries/" style="font-size: 10.00px;">summaries</a><a href="/tags/system/" style="font-size: 10.00px;">system</a><a href="/tags/vim/" style="font-size: 10.00px;">vim</a><a href="/tags/vs2012/" style="font-size: 10.00px;">vs2012</a><a href="/tags/vs2013/" style="font-size: 10.00px;">vs2013</a><a href="/tags/web/" style="font-size: 10.00px;">web</a><a href="/tags/webdev/" style="font-size: 20.00px;">webdev</a><a href="/tags/webview/" style="font-size: 12.50px;">webview</a><a href="/tags/windows/" style="font-size: 15.00px;">windows</a>
  </div>
</div>


    	<footer id="footer" class="inner"><div class="copyright">
  
  &copy; 2015 chaoming.edc|blastmann
  
</div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51731334-1', 'edi-c.com');
  ga('send', 'pageview');

</script></footer>
    </aside>


    <div id="hidden-navigationBar" class="navigationBar">
      <a href="/">@chaoming.edc blog</a>
    </div>
    <div id="main-col" class="alignright">
    <div id="wrapper">
      
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title">IE11 兼容性小指南</h1>
  

      <time datetime="2013-08-29T03:20:00.000Z"><a href="/post/ie11-compatibility-guide.html">8月 29 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>手贱升级了 Windows 8.1 之后，发现 IE11 在 HTML5 兼容性又有变化，感觉十分蛋疼，写篇文章记录一下遇到的两个比较明显的问题。</p>
<p>关于“增强的保护模式”和代理问题，大家可以看一下<a href="http://blog.edi-c.com/post/local-proxy-and-ie-enhanced-protected-mode" target="_blank">这篇文章</a>。</p>
<h2 id="文档模式的变化">文档模式的变化</h2>
<p><a href="http://d.pr/i/tbnI" target="_blank"><img src="http://d.pr/i/tbnI.png" alt="ie11-dev-tool"></a></p>
<p>IE11 中默认使用两种文档模式：IE7 和 Edge。IE7 的文档模式跟兼容模式类似，而 Edge 模式则是指当前版本的 IE 下可以使用的最高的文档模式。IE 开发者工具中只能选这两种模式，如果要使用指定的文档模式（如 IE10 或者 IE9），则需要在页面中添加指定的 <code>meta</code> 标签，如下（按需选择添加）：</p>
<pre><code><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=10"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=9"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=8"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=7"</span> &gt;</span>
</code></pre><p>如果需要测试 Quirks Mode，则可以使用下面的标签之一：</p>
<pre><code><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE9"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE8"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE7"</span> &gt;</span>
</code></pre><h2 id="Flexbox（弹性框）布局更新">Flexbox（弹性框）布局更新</h2>
<p>需要更详细的信息的话，可以到<a href="http://msdn.microsoft.com/zh-cn/library/ie/dn265027(v=vs.85" target="_blank">这篇文章</a>.aspx)进行查阅。</p>
<p>IE11 里面，Flexbox 的更新主要是一些属性名字的变化（表现也有少量变化，考虑到这本来就属于测试性的属性，变化也是正常）。下面根据官网的更新内容简单总结一下：</p>
<p>下面的属性命名在 IE11 中发生了变化：</p>
<table>
<thead>
<tr>
<th>IE10</th>
<th>IE11</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-ms-flex-wrap</code></td>
<td><code>flex-wrap</code></td>
</tr>
<tr>
<td><code>-ms-flex-order</code>  和 <code>flex-order</code></td>
<td><code>order</code></td>
</tr>
<tr>
<td><code>-ms-flex-pack</code></td>
<td><code>justify-content</code></td>
</tr>
<tr>
<td><code>-ms-flex-align</code></td>
<td><code>align-items</code></td>
</tr>
<tr>
<td><code>-ms-flex-item-align</code></td>
<td><code>align-self</code></td>
</tr>
<tr>
<td><code>-ms-flex-line-pack</code></td>
<td><code>align-content</code></td>
</tr>
</tbody>
</table>
<p>下面的属性所支持的值也发生了变化：</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Old value</th>
<th>New value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display</code></td>
<td><code>-ms-flexbox</code></td>
<td><code>flex</code></td>
</tr>
<tr>
<td><code>display</code></td>
<td><code>-ms-inline-flexbox</code></td>
<td><code>inline-flex</code></td>
</tr>
<tr>
<td><code>flex-wrap</code></td>
<td><code>none</code></td>
<td><code>nowrap</code></td>
</tr>
<tr>
<td><code>align-content</code>/<code>align-items</code>/<code>align-self</code>/<code>justify-content</code></td>
<td><code>start</code></td>
<td><code>flex-start</code></td>
</tr>
<tr>
<td><code>align-content</code>/<code>align-items</code>/<code>align-self</code>/<code>justify-content</code></td>
<td><code>end</code></td>
<td><code>flex-end</code></td>
</tr>
</tbody>
</table>
<p>当然，部分旧的值仍然有效（如<code>display:-ms-flexbox</code>），但是部分属性变化将有变化，如下面所说的 <code>flex</code> 属性。</p>
<h3 id="flex_属性">flex 属性</h3>
<p>官方文档中作了以下的注明：</p>
<ul>
<li>已添加 <code>flex</code> 属性，作为 <code>flex-grow</code>、<code>flex-shrink</code> 和 <code>flex-basis</code> 属性的速记属性。</li>
<li><code>align-content</code> 和 <code>justify-content</code> 属性现在支持值 <code>space-around</code> 与 <code>space-between</code>。</li>
<li>弹性项目的默认弹性行为已更改。 在 Internet Explorer 10 中，不适合容器的弹性项目将溢出容器边缘或者是被修剪到与容器边缘对齐。 现在，从 IE11 Preview 开始，这些项目将缩小来适应其容器（如果指定，则最小缩至 <code>min-width</code> 值）。 使用 <code>flex-shrink</code> 属性可更改此行为。</li>
</ul>
<p>让人蛋疼的是第三点（虽然现在看起来可以理解），下面有个 demo 可以让大家理解一下。</p>
<pre><code>IE10下：
<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">
    <span class="class">.container</span><span class="rules">{
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">400</span>px</span></span>;
        <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">200</span>px</span></span>;
        <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;
    <span class="rule">}</span></span>

    <span class="id">#msflexbox</span><span class="rules">{
        <span class="rule"><span class="attribute">display</span>:<span class="value"> -ms-flexbox</span></span>;
    <span class="rule">}</span></span>

    <span class="class">.dodgerBlue</span><span class="rules">{
        <span class="rule"><span class="attribute">background</span>:<span class="value"> dodgerBlue</span></span>;
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%</span></span>;
    <span class="rule">}</span></span>

    <span class="class">.limeGreen</span><span class="rules">{
        <span class="rule"><span class="attribute">background</span>:<span class="value"> limeGreen</span></span>;
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%</span></span>;
    <span class="rule">}</span></span>
</span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
</code></pre><p>效果图：</p>
<p><a href="http://d.pr/i/g518" target="_blank"><img src="http://d.pr/i/g518.png" alt="ie10-flexbox-overflow"></a></p>
<p>此时 <code>container</code> 中的元素将会充满整个 <code>container</code>，溢出的部分则被 <code>overflow:hidden</code> 所隐藏（淡蓝色部分为 Inspector 高亮）。</p>
<p>而同样的 CSS 在 IE11 下将会表现如下图：</p>
<p><a href="http://d.pr/i/aOMl" target="_blank"><img src="http://d.pr/i/aOMl.png" alt="ie11-flexbox-shrink"></a></p>
<p>这样则会造成一定的适配问题，如果需要在 IE11 下展示与 IE10 相同的效果，则可以调节 <code>flex-shrink</code> 此属性（<a href="http://msdn.microsoft.com/en-us/library/ie/dn254948(v=vs.85" target="_blank">相关文档</a>.aspx)）。我们对 <code>.container</code> 下的元素添加一个 CSS <code>flex-shrink: 0;</code>，则两个版本的表现一致。</p>
<p>关于 Flexbox 的布局，我将在<a href="http://blog.edi-c.com/post/flexbox-layout" target="_blank">另外的一篇文章</a>中进行叙述。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm是muffinman_</strong></a> - 8月 29 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
	 
     		  
       		
  
  <div class="tags">
    <a href="/tags/webdev/">webdev</a>, <a href="/tags/css3/">css3</a>, <a href="/tags/ie/">ie</a>
  </div>

     		  
       	 
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>


<section id="comment">
  <h1 class="title">留言</h1>




<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'blastmannonscriptogram'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


</section>

</div>
    </div>
    <div class="tabbar" onload="divideTabBar()">
	
      <div class="tabbaritem"><a class="next" href="/">Home</a></div>
    
      <div class="tabbaritem"><a class="next" href="/archives/">Archives</a></div>
    
      <div class="tabbaritem"><a class="next" href="/about/">About</a></div>
    
      <div class="tabbaritem"><a class="next" href="/atom.xml">Subscribe</a></div>
    
</div>


  </div>

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.min.js"></script>
</body>
</html>