<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 2 页 | @chaoming.edc blog</title>
  <meta name="author" content="chaoming.edc|blastmann">
  
  <meta name="description" content="track my learning">
  
  
  <meta name="keywords" content="windowsphone,windows,xaml,developer,iOS,OSX,productive">
  
  

  

  <meta property="og:site_name" content="@chaoming.edc blog"/>
  <meta name="copyright" content="@chaoming.edc blog"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
    <meta property="og:image" content="undefined"/>
  
   <meta name="google-site-verification" content="nTpmJEYYJgba5eVrpd_dfj1W_Ayr-NjZ1vFvhi5aqzI" />
   <meta name="baidu-site-verification" content="QO84kHVH0w" />
   <link rel="apple-touch-icon" href="/icon.png" />
   <link rel="shortcut icon" href="/favicon.png" >
   <link rel="alternate" href="http://blog.edi-c.com/atom.xml" title="@chaoming.edc blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
  <div id="content" class="inner">
    <aside id="sidebar" class="alignleft">
      <div class="navigationBar">
        <a href="/">@chaoming.edc blog</a>
      </div>
    	
  <nav class="widget" id="menu">
	<ul>
    
      <li class="cell"><a class="next" href="/">Home</a><li>
    
      <li class="cell"><a class="next" href="/archives/">Archives</a><li>
    
      <li class="cell"><a class="next" href="/about/">About</a><li>
    
      <li class="cell"><a class="next" href="/atom.xml">Subscribe</a><li>
    
    </ul>
</nav>

  <div class="widget weibo">
<iframe width="100%" height="100" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=110&fansRow=2&ptype=1&speed=0&skin=1&isTitle=1&noborder=0&isWeibo=0&isFans=0&uid=newdings&verifier=78e1ee4d&colors=ffffff,ffffff,999,000,ecfbfd&dpc=1"></iframe>
</div>

  

  
<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/IE/" style="font-size: 10.00px;">IE</a><a href="/tags/Swift/" style="font-size: 10.00px;">Swift</a><a href="/tags/WPF/" style="font-size: 10.00px;">WPF</a><a href="/tags/alfred/" style="font-size: 10.00px;">alfred</a><a href="/tags/aspnet/" style="font-size: 10.00px;">aspnet</a><a href="/tags/browser/" style="font-size: 10.00px;">browser</a><a href="/tags/csharp/" style="font-size: 10.00px;">csharp</a><a href="/tags/css3/" style="font-size: 12.00px;">css3</a><a href="/tags/dev/" style="font-size: 10.00px;">dev</a><a href="/tags/diary/" style="font-size: 10.00px;">diary</a><a href="/tags/directx/" style="font-size: 10.00px;">directx</a><a href="/tags/fiddler/" style="font-size: 12.00px;">fiddler</a><a href="/tags/google/" style="font-size: 10.00px;">google</a><a href="/tags/iOS/" style="font-size: 10.00px;">iOS</a><a href="/tags/ie/" style="font-size: 10.00px;">ie</a><a href="/tags/ie11/" style="font-size: 10.00px;">ie11</a><a href="/tags/javascript/" style="font-size: 10.00px;">javascript</a><a href="/tags/mac/" style="font-size: 10.00px;">mac</a><a href="/tags/markdown/" style="font-size: 10.00px;">markdown</a><a href="/tags/mvc/" style="font-size: 10.00px;">mvc</a><a href="/tags/note/" style="font-size: 10.00px;">note</a><a href="/tags/notes/" style="font-size: 16.00px;">notes</a><a href="/tags/plugin/" style="font-size: 10.00px;">plugin</a><a href="/tags/productivity/" style="font-size: 10.00px;">productivity</a><a href="/tags/programming/" style="font-size: 12.00px;">programming</a><a href="/tags/python/" style="font-size: 10.00px;">python</a><a href="/tags/reflow/" style="font-size: 10.00px;">reflow</a><a href="/tags/st2/" style="font-size: 16.00px;">st2</a><a href="/tags/summaries/" style="font-size: 10.00px;">summaries</a><a href="/tags/system/" style="font-size: 10.00px;">system</a><a href="/tags/vim/" style="font-size: 10.00px;">vim</a><a href="/tags/vs2012/" style="font-size: 10.00px;">vs2012</a><a href="/tags/web/" style="font-size: 10.00px;">web</a><a href="/tags/webdev/" style="font-size: 20.00px;">webdev</a><a href="/tags/webview/" style="font-size: 10.00px;">webview</a><a href="/tags/windows/" style="font-size: 14.00px;">windows</a><a href="/tags/winrt/" style="font-size: 12.00px;">winrt</a><a href="/tags/workflow/" style="font-size: 10.00px;">workflow</a><a href="/tags/wp/" style="font-size: 10.00px;">wp</a><a href="/tags/wp8/" style="font-size: 18.00px;">wp8</a>
  </div>
</div>


    	<footer id="footer" class="inner"><div class="copyright">
  
  &copy; 2014 chaoming.edc|blastmann
  
</div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-51731334-1', 'edi-c.com');
  ga('send', 'pageview');

</script></footer>
    </aside>


    <div id="hidden-navigationBar" class="navigationBar">
      <a href="/">@chaoming.edc blog</a>
    </div>
    <div id="main-col" class="alignright">
    <div id="wrapper">
      
  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/some-csharp-singleton-snippets.html">几个C#单例模式的Snippet</a></h1>
  

      <time datetime="2014-01-23T10:31:00.000Z"><a href="/post/some-csharp-singleton-snippets.html">1月 23 2014</a></time>
      
  </header>
    <div class="entry">
      
        <p>其实本来不大想做这几个Snippet，但是看了一下ReSharper里面的Template Explorer实在是用起来怪怪的，官方文档又说得不清不楚的。只好先从VS里面自带的模板弄出几个Snippet，模仿着写了四个Singleton，下面贴一下吧。</p>
<ol>
<li><p>静态初始化单例</p>
<pre><code> <span class="pi">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
 <span class="tag">&lt;<span class="title">CodeSnippets</span>  <span class="attribute">xmlns</span>=<span class="value">"http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet"</span>&gt;</span>
     <span class="tag">&lt;<span class="title">CodeSnippet</span> <span class="attribute">Format</span>=<span class="value">"1.0.0"</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Header</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Title</span>&gt;</span>Static Singleton<span class="tag">&lt;/<span class="title">Title</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Shortcut</span>&gt;</span>ston<span class="tag">&lt;/<span class="title">Shortcut</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Description</span>&gt;</span>Code snippet for singleton<span class="tag">&lt;/<span class="title">Description</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Author</span>&gt;</span>chaoming.edc<span class="tag">&lt;/<span class="title">Author</span>&gt;</span>
             <span class="tag">&lt;<span class="title">SnippetTypes</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">SnippetType</span>&gt;</span>Expansion<span class="tag">&lt;/<span class="title">SnippetType</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">SnippetTypes</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Header</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Snippet</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Declarations</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">Literal</span> <span class="attribute">Editable</span>=<span class="value">"false"</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ID</span>&gt;</span>classname<span class="tag">&lt;/<span class="title">ID</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ToolTip</span>&gt;</span>Class name<span class="tag">&lt;/<span class="title">ToolTip</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Function</span>&gt;</span>ClassName()<span class="tag">&lt;/<span class="title">Function</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Default</span>&gt;</span>ClassNamePlaceholder<span class="tag">&lt;/<span class="title">Default</span>&gt;</span>
                 <span class="tag">&lt;/<span class="title">Literal</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">Declarations</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Code</span> <span class="attribute">Language</span>=<span class="value">"csharp"</span>&gt;</span><span class="cdata">&lt;![CDATA[/// &lt;summary&gt;
     /// 静态初始化，依赖CLR实现线程安全的实例初始化
     /// &lt;/summary&gt;
     private static readonly $classname$ instance = new $classname$();
     private $classname$() { }
     public static $classname$ Instance
     {
         get
         {
             return instance;
         }
     }
     $end$]]&gt;</span>
             <span class="tag">&lt;/<span class="title">Code</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Snippet</span>&gt;</span>
     <span class="tag">&lt;/<span class="title">CodeSnippet</span>&gt;</span>
 <span class="tag">&lt;/<span class="title">CodeSnippets</span>&gt;</span>
</code></pre></li>
<li><p>Double-Check单例</p>
<pre><code> <span class="pi">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
 <span class="tag">&lt;<span class="title">CodeSnippets</span>  <span class="attribute">xmlns</span>=<span class="value">"http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet"</span>&gt;</span>
     <span class="tag">&lt;<span class="title">CodeSnippet</span> <span class="attribute">Format</span>=<span class="value">"1.0.0"</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Header</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Title</span>&gt;</span>Double-Check Singleton<span class="tag">&lt;/<span class="title">Title</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Shortcut</span>&gt;</span>dston<span class="tag">&lt;/<span class="title">Shortcut</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Description</span>&gt;</span>Code snippet for singleton<span class="tag">&lt;/<span class="title">Description</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Author</span>&gt;</span>chaoming.edc<span class="tag">&lt;/<span class="title">Author</span>&gt;</span>
             <span class="tag">&lt;<span class="title">SnippetTypes</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">SnippetType</span>&gt;</span>Expansion<span class="tag">&lt;/<span class="title">SnippetType</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">SnippetTypes</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Header</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Snippet</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Declarations</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">Literal</span> <span class="attribute">Editable</span>=<span class="value">"false"</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ID</span>&gt;</span>classname<span class="tag">&lt;/<span class="title">ID</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ToolTip</span>&gt;</span>Class name<span class="tag">&lt;/<span class="title">ToolTip</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Function</span>&gt;</span>ClassName()<span class="tag">&lt;/<span class="title">Function</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Default</span>&gt;</span>ClassNamePlaceholder<span class="tag">&lt;/<span class="title">Default</span>&gt;</span>
                 <span class="tag">&lt;/<span class="title">Literal</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">Declarations</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Code</span> <span class="attribute">Language</span>=<span class="value">"csharp"</span>&gt;</span><span class="cdata">&lt;![CDATA[private static object syncRoot = new object();
     private static $classname$ instance;
     private $classname$() { }

     /// &lt;summary&gt;
     /// Double-Check Singleton
     /// &lt;/summary&gt;
     public static $classname$ Instance
     {
         get
         {
             if(instance == null)
             {
                 lock(syncRoot)
                 {
                     if(instance == null)
                     {
                         instance = new $classname$();
                     }
                 }
             }
             return instance;
         }
     }
     $end$]]&gt;</span>
             <span class="tag">&lt;/<span class="title">Code</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Snippet</span>&gt;</span>
     <span class="tag">&lt;/<span class="title">CodeSnippet</span>&gt;</span>
 <span class="tag">&lt;/<span class="title">CodeSnippets</span>&gt;</span>
</code></pre></li>
<li><p>Nested单例</p>
<pre><code> <span class="pi">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
 <span class="tag">&lt;<span class="title">CodeSnippets</span>  <span class="attribute">xmlns</span>=<span class="value">"http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet"</span>&gt;</span>
     <span class="tag">&lt;<span class="title">CodeSnippet</span> <span class="attribute">Format</span>=<span class="value">"1.0.0"</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Header</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Title</span>&gt;</span>Nested Singleton<span class="tag">&lt;/<span class="title">Title</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Shortcut</span>&gt;</span>nston<span class="tag">&lt;/<span class="title">Shortcut</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Description</span>&gt;</span>Code snippet for singleton<span class="tag">&lt;/<span class="title">Description</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Author</span>&gt;</span>chaoming.edc<span class="tag">&lt;/<span class="title">Author</span>&gt;</span>
             <span class="tag">&lt;<span class="title">SnippetTypes</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">SnippetType</span>&gt;</span>Expansion<span class="tag">&lt;/<span class="title">SnippetType</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">SnippetTypes</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Header</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Snippet</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Declarations</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">Literal</span> <span class="attribute">Editable</span>=<span class="value">"false"</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ID</span>&gt;</span>classname<span class="tag">&lt;/<span class="title">ID</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ToolTip</span>&gt;</span>Class name<span class="tag">&lt;/<span class="title">ToolTip</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Function</span>&gt;</span>ClassName()<span class="tag">&lt;/<span class="title">Function</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Default</span>&gt;</span>ClassNamePlaceholder<span class="tag">&lt;/<span class="title">Default</span>&gt;</span>
                 <span class="tag">&lt;/<span class="title">Literal</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">Declarations</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Code</span> <span class="attribute">Language</span>=<span class="value">"csharp"</span>&gt;</span><span class="cdata">&lt;![CDATA[private $classname$() { }
     public static $classname$ Instance
     {
         get
         {
             return Nested.instance;
         }
     }

     private class Nested
     {
         // Explicit static constructor to tell C# compiler
         // not to mark type as before field init
         static Nested()
         {
         }

         internal static readonly $classname$ instance = new $classname$();
     }
     $end$]]&gt;</span>
             <span class="tag">&lt;/<span class="title">Code</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Snippet</span>&gt;</span>
     <span class="tag">&lt;/<span class="title">CodeSnippet</span>&gt;</span>
 <span class="tag">&lt;/<span class="title">CodeSnippets</span>&gt;</span>
</code></pre></li>
<li><p>Lazy<T>单例</p>
<pre><code> <span class="pi">&lt;?xml version="1.0" encoding="utf-8" ?&gt;</span>
 <span class="tag">&lt;<span class="title">CodeSnippets</span>  <span class="attribute">xmlns</span>=<span class="value">"http://schemas.microsoft.com/VisualStudio/2005/CodeSnippet"</span>&gt;</span>
     <span class="tag">&lt;<span class="title">CodeSnippet</span> <span class="attribute">Format</span>=<span class="value">"1.0.0"</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Header</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Title</span>&gt;</span>Lazy Static Singleton<span class="tag">&lt;/<span class="title">Title</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Shortcut</span>&gt;</span>lston<span class="tag">&lt;/<span class="title">Shortcut</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Description</span>&gt;</span>Code snippet for singleton<span class="tag">&lt;/<span class="title">Description</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Author</span>&gt;</span>chaoming.edc<span class="tag">&lt;/<span class="title">Author</span>&gt;</span>
             <span class="tag">&lt;<span class="title">SnippetTypes</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">SnippetType</span>&gt;</span>Expansion<span class="tag">&lt;/<span class="title">SnippetType</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">SnippetTypes</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Header</span>&gt;</span>
         <span class="tag">&lt;<span class="title">Snippet</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Declarations</span>&gt;</span>
                 <span class="tag">&lt;<span class="title">Literal</span> <span class="attribute">Editable</span>=<span class="value">"false"</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ID</span>&gt;</span>classname<span class="tag">&lt;/<span class="title">ID</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">ToolTip</span>&gt;</span>Class name<span class="tag">&lt;/<span class="title">ToolTip</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Function</span>&gt;</span>ClassName()<span class="tag">&lt;/<span class="title">Function</span>&gt;</span>
                     <span class="tag">&lt;<span class="title">Default</span>&gt;</span>ClassNamePlaceholder<span class="tag">&lt;/<span class="title">Default</span>&gt;</span>
                 <span class="tag">&lt;/<span class="title">Literal</span>&gt;</span>
             <span class="tag">&lt;/<span class="title">Declarations</span>&gt;</span>
             <span class="tag">&lt;<span class="title">Code</span> <span class="attribute">Language</span>=<span class="value">"csharp"</span>&gt;</span><span class="cdata">&lt;![CDATA[/// &lt;summary&gt;
     /// 静态初始化，依赖CLR实现线程安全的实例初始化，利用Lazy&lt;T&gt;实现懒初始化，但需要.NET4以上支持
     /// &lt;/summary&gt;
     private static readonly Lazy&lt;$classname$&gt; instance = new Lazy&lt;$classname$&gt;(() =&gt; new $classname$());
     private $classname$() { }
     public static $classname$ Instance
     {
         get
         {
             return instance.Value;
         }
     }
     $end$]]&gt;</span>
             <span class="tag">&lt;/<span class="title">Code</span>&gt;</span>
         <span class="tag">&lt;/<span class="title">Snippet</span>&gt;</span>
     <span class="tag">&lt;/<span class="title">CodeSnippet</span>&gt;</span>
 <span class="tag">&lt;/<span class="title">CodeSnippets</span>&gt;</span>
</code></pre></li>
</ol>
<p>下载链接：<a href="https://www.dropbox.com/s/nfreaxro1jzsb80/Singleton%20Snippets.7z" target="_blank">https://www.dropbox.com/s/nfreaxro1jzsb80/Singleton%20Snippets.7z</a></p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 1月 23 2014</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/windows8-and-micron-m4-ssd-firmware-bug.html">Windows 8.1与镁光M4 SSD固件Bug</a></h1>
  

      <time datetime="2014-01-20T07:20:00.000Z"><a href="/post/windows8-and-micron-m4-ssd-firmware-bug.html">1月 20 2014</a></time>
      
  </header>
    <div class="entry">
      
        <p>最近家里的机器经常出现休眠之后无法开机的问题，刚开始的时候以为BIOS里面设置有问题，重置了一下发现还是会出现类似的问题。于是开始怀疑是不是硬盘的问题，然后想起上次刷SSD固件时候已经大半年之前了。查了一下镁光官网的固件更新，发现M4的固件又更新了好几次。最近一次更新说明里面有这么一段：</p>
<blockquote>
<p>该固件解决了一个电源时序问题，该问题可能会导致电脑从休眠会睡眠状态唤醒时引起固态硬盘挂起，导致无法与主机进行通信（丢盘现象）。</p>
</blockquote>
<p>于是去<a href="http://www.crucial.com/support/firmware.aspx" target="_blank">镁光官网查找一下新的固件</a>，下载更新程序之后在Windows下直接更新即可。</p>
<p>PS：但是更新程序在更新过程里面有可能提示更新失败，然后重启之后却发现固件版本号变了。只能当作更新成功了吧~</p>
<p>更新完固件之后还以为Bug已经修复了，结果后面又出现了两次死机，关机之后系统就出问题了。本来想重装系统，但手上又没有完整的安装盘，于是只能跑一下<code>sfc</code>尝试修复。相关链接：<a href="http://support.microsoft.com/kb/929833" target="_blank">使用系统文件检查器工具修复丢失或损坏的系统文件</a>。</p>
<p>在运行<code>sfc /scannow</code>之后，提示<code>urlmon.dll</code>无法修复（有的时候需要打开C:\Windows\Logs\CBS\CBS.log，搜索文件中记录文件无法修复的日志项，查出损坏的文件）。在Windows 8.1下面，如果这个文件损坏了，系统里面很多程序都会出现无法启动的情况，像IE、搜索、Metro系统设置等。按照文章里面的修复方法，关键的三个命令是：</p>
<ul>
<li>取得损坏系统文件的管理权：<code>takeown /f Path_And_File_Name</code></li>
<li>授予管理员对已损坏系统文件的完全访问权限：<code>icacls Path_And_File_Name /GRANT ADMINISTRATORS:F</code></li>
<li>将损坏的系统文件替换为已知完好的文件副本：<code>Copy Source_File Destination</code></li>
</ul>
<p>远程控制之后终于修复了，在此记录一下。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 1月 20 2014</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/flexbox-layout.html">Flexbox 布局简述</a></h1>
  

      <time datetime="2013-08-29T08:10:00.000Z"><a href="/post/flexbox-layout.html">8月 29 2013</a></time>
      
  </header>
    <div class="entry">
      
        <h1 id="Flexbox_布局简述">Flexbox 布局简述</h1>
<p>Flexbox 布局将有下面一系列的属性设置：</p>
<ul>
<li>flex-basis</li>
<li>flex-grow</li>
<li>flex-shrink</li>
<li>flex</li>
<li>align-items</li>
<li>align-self</li>
<li>align-content</li>
<li>order</li>
<li>justify-content</li>
<li>flex-wrap</li>
</ul>
<h2 id="flex\flex-grow\flex-shrink\flex-basis">flex\flex-grow\flex-shrink\flex-basis</h2>
<p><code>flex</code> 属性是 <code>flex-grow</code>\<code>flex-shrink</code>\<code>flex-basis</code> 的速写。下面先讲述一下这一系列的属性。</p>
<h3 id="flex-basis">flex-basis</h3>
<blockquote>
<p>作用：设置弹性项目的初始宽度。<br>初始值：auto<br>可接受的值：非负数，单位可以为CSS提供的长度单位</p>
</blockquote>
<p>效果图如下：</p>
<p><a href="http://d.pr/i/mluE" target="_blank"><img src="http://d.pr/i/mluE.png" alt="flex-basis"></a></p>
<h3 id="flex-grow">flex-grow</h3>
<blockquote>
<p>作用：设置弹性项目宽度比例系数。<em>flex grow</em>设置后将根据外容器剩余宽度和弹性项目的数量来分配对应弹性项目的宽度。<br>初始值：0<br>可接受的值：非负数</p>
</blockquote>
<p>效果图如下：</p>
<p><a href="http://d.pr/i/8Uie" target="_blank"><img src="http://d.pr/i/8Uie.png" alt="flex-grow"></a></p>
<p>外层 flex 容器宽度为 600px，<code>.dodgerBlue</code>的系数设置为2，<code>.limeGreen</code>的系数设置为1。则布局后<code>.dodgerBlue</code>的宽度为200px，<code>.limeGreen</code>宽度为100px。弹性项目按比例均分外层容器的宽度。</p>
<p>值得一提的是，如果弹性项目设置有宽度或者<code>flex-basis</code>，布局时顺序将变化为：先按项目本身设定的宽度或 flex-basis 进行布局，再在剩余空间中根据 flex-grow 系数进行剩余空间分配（在元素内包含文字时弹性项目的大小也会发生变化，具体分配规则暂时还不清楚）。效果图如下（<code>.dodgerBlue</code>的初始宽度为200px，<code>.limeGreen</code>没有设置初始宽度）：</p>
<p><a href="http://d.pr/i/iaDC" target="_blank"><img src="http://d.pr/i/iaDC.png" alt="flex-grow-and-flex-basis"></a></p>
<h3 id="flex-shrink">flex-shrink</h3>
<blockquote>
<p>作用：设置弹性项目压缩比例系数。<em>flex shrink</em>设置后将根据外容器本身宽度和弹性项目的数量来分配对应弹性项目的宽度。<br>初始值：0<br>可接受的值：非负数</p>
</blockquote>
<p>与 <code>flex-grow</code> 相反，<code>flex-shrink</code>在基于弹性项目本身的宽度上再对其宽度按系数进行压缩，具体分配规则暂时确定是：在 <code>flex-basis</code> 存在的情况下，按照 <code>flex-shrink</code> 的值确定弹性项目的分配比例，如外层容器为100px，<code>.dodgerBlue</code> 宽度为100%、压缩系数为3，<code>limeGreen</code> 宽度也为100%、压缩系数为1。此时按照压缩系数对弹性项目的宽度进行重新分配，则 <code>.dodgerBlue</code> 需要压缩100px/4*3=75px，最终宽度为25px。</p>
<p>需要注意的是，在 IE10 下，弹性项目的表现与 <code>flex-shrink:0</code> 效果相同，即 <code>flex-shrink:0</code> 时项目本身不进行宽度压缩。</p>
<p>示例代码：</p>
<pre><code><span class="class">.dodgerBlue</span><span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> dodgerBlue</span></span>;
    <span class="rule"><span class="attribute">flex-basis</span>:<span class="value"><span class="number">100</span>%</span></span>;
    <span class="rule"><span class="attribute">flex-shrink</span>:<span class="value"><span class="number">3</span></span></span>;
<span class="rule">}</span></span>

<span class="class">.limeGreen</span><span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> limeGreen</span></span>;
    <span class="rule"><span class="attribute">flex-basis</span>:<span class="value"><span class="number">100</span>%</span></span>;
<span class="rule">}</span></span>
</code></pre><p>效果图如下：</p>
<p><a href="http://d.pr/i/pjvM" target="_blank"><img src="http://d.pr/i/pjvM.png" alt="flex-shrink"></a></p>
<p>需要注意的是，<code>flex-shrink</code> 只在弹性项目充满外层容器后才会生效，而 <code>flex-grow</code> 则在外层容器空间尚未完全分配时起效。</p>
<h3 id="flex">flex</h3>
<p>此属性是上述三个属性的速写属性，可授受的值为：</p>
<pre><code>flex: <span class="constant">none</span> |[&lt;<span class="string">'flex-grow'</span>&gt; &lt;<span class="string">'flex-shrink'</span>&gt;?||&lt;<span class="string">'flex-basis'</span>&gt;]
</code></pre><h2 id="order">order</h2>
<blockquote>
<p>作用：设置弹性项目在弹性容器中的显示顺序，一般来说弹性项目的显示顺序与源代码中的元素声明顺序相同，除非特别声明 <code>order</code> 属性。<br>初始值：0<br>可接受的值：整数</p>
</blockquote>
<p><strong>注意</strong>：在<code>order</code>相同的情况下，顺序将以元素声明顺序确定。</p>
<p>示例代码：</p>
<pre><code><span class="id">#flex</span><span class="rules">{
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">300</span>px</span></span>;
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">200</span>px</span></span>;
    <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;
    <span class="rule"><span class="attribute">display</span>:<span class="value"> flex</span></span>;
<span class="rule">}</span></span>

<span class="class">.dodgerBlue</span><span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> dodgerBlue</span></span>;
    <span class="rule"><span class="attribute">flex-basis</span>:<span class="value"><span class="number">100</span>%</span></span>;
    <span class="rule"><span class="attribute">order</span>:<span class="value"><span class="number">2</span></span></span>;
<span class="rule">}</span></span>

<span class="class">.limeGreen</span><span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> limeGreen</span></span>;
    <span class="rule"><span class="attribute">flex-basis</span>:<span class="value"><span class="number">100</span>%</span></span>;
    <span class="rule"><span class="attribute">order</span>:<span class="value"><span class="number">0</span></span></span>;
<span class="rule">}</span></span>

<span class="class">.yellowGreen</span><span class="rules">{
    <span class="rule"><span class="attribute">background</span>:<span class="value"> yellowGreen</span></span>;
    <span class="rule"><span class="attribute">flex-basis</span>:<span class="value"><span class="number">100</span>%</span></span>;
    <span class="rule"><span class="attribute">order</span>:<span class="value"><span class="number">1</span></span></span>;
<span class="rule">}</span></span>
</code></pre><p>效果图：</p>
<p><a href="http://d.pr/i/n8LP" target="_blank"><img src="http://d.pr/i/n8LP.png" alt="flex-order"></a></p>
<h2 id="flex-direction">flex-direction</h2>
<blockquote>
<p>作用：设置弹性项目的显示方向<br>初始值：row<br>可接受的值：row | row-reverse | column | column-reverse</p>
</blockquote>
<p>属性比较容易理解，不截图了。</p>
<h2 id="flex-wrap">flex-wrap</h2>
<blockquote>
<p>作用：设置弹性项目在分配空间时横向空间到分配完后是否进行换行分配，此时纵向空间将结合弹性项目本身的高度和弹性盒本身的高度来确定。<br>初始值：nowrap<br>可接受的值：nowrap | wrap | wrap-reverse</p>
</blockquote>
<p>属性比较容易理解，不截图了。</p>
<h2 id="flex-flow">flex-flow</h2>
<p>即 <code>flex-direction</code> 和 <code>flex-wrap</code>　的速写属性，可授受的值为：</p>
<pre><code>flex-<span class="keyword">flow</span>: &lt;<span class="string">'flex-direction'</span>&gt; &lt;<span class="string">'flex-wrap'</span>&gt;
</code></pre><h2 id="align-items/align-self/align-content/justify-content">align-items/align-self/align-content/justify-content</h2>
<h3 id="align-items">align-items</h3>
<blockquote>
<p>作用：对弹性盒设置弹性项目的对齐方式<br>初始值：stretch<br>可接受的值：flex-start | flex-end | center | stretch | baseline</p>
</blockquote>
<h3 id="align-self">align-self</h3>
<blockquote>
<p>作用：对弹性项目本身设置其对齐方式<br>初始值：auto<br>可接受的值：auto | flex-start | flex-end | center | baseline | stretch</p>
</blockquote>
<p><code>auto</code>：如果弹性项目的父元素是一个弹性容器，<code>align-self</code>与弹性容器的<code>align-items</code>属性的值一致。否则其值为<strong>stretch</strong>。</p>
<h3 id="align-content">align-content</h3>
<blockquote>
<p>作用：让弹性项目之间的行间距按照设置的值进行分布，分布方向与 <code>flex-direction</code> 中设置的方向相同<br>初始值：stretch<br>可接受的值：flex-start | flex-end | center | space-between | space-around | stretch</p>
</blockquote>
<p>两个特别的值说明：</p>
<ul>
<li>space-between：弹性项目在 <code>flex-direction</code> 设置的方向上进行两端对齐</li>
<li>space-around：弹性项目在行间距中间的位置进行对齐</li>
</ul>
<p>效果图：</p>
<p><a href="http://d.pr/i/X3il" target="_blank"><img src="http://d.pr/i/X3il.png" alt="align-content"></a></p>
<h3 id="justify-content">justify-content</h3>
<blockquote>
<p>作用：设置弹性项目在主分布轴上的对齐方式（与文字对齐方式类似）<br>初始值：flex-start<br>可接受的值：flex-start | flex-end | center | space-between | space-around</p>
</blockquote>
<p>直接看图比较好理解：</p>
<p><a href="http://d.pr/i/yXgF" target="_blank"><img src="http://d.pr/i/yXgF.png" alt="justify-content"></a></p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 8月 29 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/ie11-compatibility-guide.html">IE11 兼容性小指南</a></h1>
  

      <time datetime="2013-08-29T03:20:00.000Z"><a href="/post/ie11-compatibility-guide.html">8月 29 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>手贱升级了 Windows 8.1 之后，发现 IE11 在 HTML5 兼容性又有变化，感觉十分蛋疼，写篇文章记录一下遇到的两个比较明显的问题。</p>
<p>关于“增强的保护模式”和代理问题，大家可以看一下<a href="http://blog.edi-c.com/post/local-proxy-and-ie-enhanced-protected-mode" target="_blank">这篇文章</a>。</p>
<h2 id="文档模式的变化">文档模式的变化</h2>
<p><a href="http://d.pr/i/tbnI" target="_blank"><img src="http://d.pr/i/tbnI.png" alt="ie11-dev-tool"></a></p>
<p>IE11 中默认使用两种文档模式：IE7 和 Edge。IE7 的文档模式跟兼容模式类似，而 Edge 模式则是指当前版本的 IE 下可以使用的最高的文档模式。IE 开发者工具中只能选这两种模式，如果要使用指定的文档模式（如 IE10 或者 IE9），则需要在页面中添加指定的 <code>meta</code> 标签，如下（按需选择添加）：</p>
<pre><code><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=10"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=9"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=8"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=7"</span> &gt;</span>
</code></pre><p>如果需要测试 Quirks Mode，则可以使用下面的标签之一：</p>
<pre><code><span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE9"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE8"</span> &gt;</span>
<span class="tag">&lt;<span class="title">meta</span> <span class="attribute">http-equiv</span>=<span class="value">"x-ua-compatible"</span> <span class="attribute">content</span>=<span class="value">"IE=EmulateIE7"</span> &gt;</span>
</code></pre><h2 id="Flexbox（弹性框）布局更新">Flexbox（弹性框）布局更新</h2>
<p>需要更详细的信息的话，可以到<a href="http://msdn.microsoft.com/zh-cn/library/ie/dn265027(v=vs.85" target="_blank">这篇文章</a>.aspx)进行查阅。</p>
<p>IE11 里面，Flexbox 的更新主要是一些属性名字的变化（表现也有少量变化，考虑到这本来就属于测试性的属性，变化也是正常）。下面根据官网的更新内容简单总结一下：</p>
<p>下面的属性命名在 IE11 中发生了变化：</p>
<table>
<thead>
<tr>
<th>IE10</th>
<th>IE11</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-ms-flex-wrap</code></td>
<td><code>flex-wrap</code></td>
</tr>
<tr>
<td><code>-ms-flex-order</code>  和 <code>flex-order</code></td>
<td><code>order</code></td>
</tr>
<tr>
<td><code>-ms-flex-pack</code></td>
<td><code>justify-content</code></td>
</tr>
<tr>
<td><code>-ms-flex-align</code></td>
<td><code>align-items</code></td>
</tr>
<tr>
<td><code>-ms-flex-item-align</code></td>
<td><code>align-self</code></td>
</tr>
<tr>
<td><code>-ms-flex-line-pack</code></td>
<td><code>align-content</code></td>
</tr>
</tbody>
</table>
<p>下面的属性所支持的值也发生了变化：</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Old value</th>
<th>New value</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>display</code></td>
<td><code>-ms-flexbox</code></td>
<td><code>flex</code></td>
</tr>
<tr>
<td><code>display</code></td>
<td><code>-ms-inline-flexbox</code></td>
<td><code>inline-flex</code></td>
</tr>
<tr>
<td><code>flex-wrap</code></td>
<td><code>none</code></td>
<td><code>nowrap</code></td>
</tr>
<tr>
<td><code>align-content</code>/<code>align-items</code>/<code>align-self</code>/<code>justify-content</code></td>
<td><code>start</code></td>
<td><code>flex-start</code></td>
</tr>
<tr>
<td><code>align-content</code>/<code>align-items</code>/<code>align-self</code>/<code>justify-content</code></td>
<td><code>end</code></td>
<td><code>flex-end</code></td>
</tr>
</tbody>
</table>
<p>当然，部分旧的值仍然有效（如<code>display:-ms-flexbox</code>），但是部分属性变化将有变化，如下面所说的 <code>flex</code> 属性。</p>
<h3 id="flex_属性">flex 属性</h3>
<p>官方文档中作了以下的注明：</p>
<ul>
<li>已添加 <code>flex</code> 属性，作为 <code>flex-grow</code>、<code>flex-shrink</code> 和 <code>flex-basis</code> 属性的速记属性。</li>
<li><code>align-content</code> 和 <code>justify-content</code> 属性现在支持值 <code>space-around</code> 与 <code>space-between</code>。</li>
<li>弹性项目的默认弹性行为已更改。 在 Internet Explorer 10 中，不适合容器的弹性项目将溢出容器边缘或者是被修剪到与容器边缘对齐。 现在，从 IE11 Preview 开始，这些项目将缩小来适应其容器（如果指定，则最小缩至 <code>min-width</code> 值）。 使用 <code>flex-shrink</code> 属性可更改此行为。</li>
</ul>
<p>让人蛋疼的是第三点（虽然现在看起来可以理解），下面有个 demo 可以让大家理解一下。</p>
<pre><code>IE10下：
<span class="tag">&lt;<span class="title">style</span>&gt;</span><span class="css">
    <span class="class">.container</span><span class="rules">{
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">400</span>px</span></span>;
        <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">200</span>px</span></span>;
        <span class="rule"><span class="attribute">overflow</span>:<span class="value"> hidden</span></span>;
    <span class="rule">}</span></span>

    <span class="id">#msflexbox</span><span class="rules">{
        <span class="rule"><span class="attribute">display</span>:<span class="value"> -ms-flexbox</span></span>;
    <span class="rule">}</span></span>

    <span class="class">.dodgerBlue</span><span class="rules">{
        <span class="rule"><span class="attribute">background</span>:<span class="value"> dodgerBlue</span></span>;
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%</span></span>;
    <span class="rule">}</span></span>

    <span class="class">.limeGreen</span><span class="rules">{
        <span class="rule"><span class="attribute">background</span>:<span class="value"> limeGreen</span></span>;
        <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%</span></span>;
    <span class="rule">}</span></span>
</span><span class="tag">&lt;/<span class="title">style</span>&gt;</span>
</code></pre><p>效果图：</p>
<p><a href="http://d.pr/i/g518" target="_blank"><img src="http://d.pr/i/g518.png" alt="ie10-flexbox-overflow"></a></p>
<p>此时 <code>container</code> 中的元素将会充满整个 <code>container</code>，溢出的部分则被 <code>overflow:hidden</code> 所隐藏（淡蓝色部分为 Inspector 高亮）。</p>
<p>而同样的 CSS 在 IE11 下将会表现如下图：</p>
<p><a href="http://d.pr/i/aOMl" target="_blank"><img src="http://d.pr/i/aOMl.png" alt="ie11-flexbox-shrink"></a></p>
<p>这样则会造成一定的适配问题，如果需要在 IE11 下展示与 IE10 相同的效果，则可以调节 <code>flex-shrink</code> 此属性（<a href="http://msdn.microsoft.com/en-us/library/ie/dn254948(v=vs.85" target="_blank">相关文档</a>.aspx)）。我们对 <code>.container</code> 下的元素添加一个 CSS <code>flex-shrink: 0;</code>，则两个版本的表现一致。</p>
<p>关于 Flexbox 的布局，我将在<a href="http://blog.edi-c.com/post/flexbox-layout" target="_blank">另外的一篇文章</a>中进行叙述。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 8月 29 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/local-proxy-and-ie-enhanced-protected-mode.html">解决 IE11 无法代理到 Fiddler 进行抓包</a></h1>
  

      <time datetime="2013-08-28T13:55:00.000Z"><a href="/post/local-proxy-and-ie-enhanced-protected-mode.html">8月 28 2013</a></time>
      
  </header>
    <div class="entry">
      
        <h1 id="解决_IE11_无法代理到_Fiddler_进行抓包">解决 IE11 无法代理到 Fiddler 进行抓包</h1>
<p>这个问题很诡异，今天尝试更新到 Windows 8.1 RTM 之后，发现开启 Fiddler 后无法对 IE 进行抓包，具体情况如下：</p>
<ol>
<li>开启 Fiddler，设置本地代理和出口网关</li>
<li>在 Chrome 中可以正常抓包，但在 IE 中尝试打开网页时 Fiddler 中没有观察到有任何流量</li>
<li>运行 Fiddler Tools &gt; Sandbox 选项，网页可以正常打开，但仅限运行过此选项的 IE 实例，关闭网页重新打开，IE 仍然无法正常使用。</li>
</ol>
<p>这个问题确实让人很恼火，很神奇的问题。最后是怎么解决的呢？在乱打乱撞之下，在 <strong>Internet 选项 -&gt; 高级 </strong>选项页中，把<strong>增强的保护模式</strong>给关闭之后，Fiddler 又可以正常捕捉到 IE 的流量了。</p>
<p>后来查了一下 Google，发现有人在使用 GoAgent 的时候也出现过这样的情况。总的来说，就是这个<strong>增强的保护模式</strong>惹的祸。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 8月 28 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/aspnet-mvc-3-dev-notes-001.html">ASP.NET MVC 3 开发过程小记（一）</a></h1>
  

      <time datetime="2013-08-22T00:48:00.000Z"><a href="/post/aspnet-mvc-3-dev-notes-001.html">8月 22 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>刚刚新建工程的时候，如果不想用 IIS Express 的话，需要自行开启配置 Windows 8 自带的 IIS 服务。在控制面板-&gt;添加删除程序左边就可以添加 IIS 服务了。</p>
<h2 id="运行网站时出现“HTTP_错误_500-19_–_内部服务器错误”">运行网站时出现“HTTP 错误 500.19 – 内部服务器错误”</h2>
<p>出现这个错误时，可以先参考微软的 KB（<a href="http://support.microsoft.com/kb/942055" target="_blank">KB942055</a>），里面很详细地介绍了9种不同的错误码下的处理方法。</p>
<p>如果出现 <code>0x80070021</code> 的话，可以按下面的方法处理：</p>
<p>先确定错误信息中提示的是 Handlers 被锁定还是 Modules 被锁定，然后开启 CMD，按需执行命令：</p>
<pre><code><span class="variable">%windir</span><span class="variable">%\</span>system32\inetsrv\appcmd unlock config -section:<span class="keyword">system</span>.webServer/handlers

<span class="variable">%windir</span><span class="variable">%\</span>system32\inetsrv\appcmd unlock config -section:<span class="keyword">system</span>.webServer/modules
</code></pre><p>另外，在安装 IIS 的时候，记得选中 ASP.NET，否则也会出现类似的信息。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 8月 22 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/wp8-ie10-font-face-support.html">WP8 上的 IE10 对 @font-face 属性的支持程度</a></h1>
  

      <time datetime="2013-07-03T09:19:00.000Z"><a href="/post/wp8-ie10-font-face-support.html">7月 3 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>现在的前端都流行把一些小图标转换成字体，然后利用 <code>@font-face</code> 这个 CSS 属性来定义一个页面专有的字体，从而达到把小图标转换成字符显示的效果。这样做除了可以省流量，图标的显示效果也很好，放大缩小都不怎么会影响效果，确实是一个不错的的手段。</p>
<p>关于 CSS3 中的 <code>@font-face</code> 属性，可以参阅<a href="http://www.w3cplus.com/content/css3-font-face" target="_blank">这篇文章</a>，里面有很详细的属性应用介绍。</p>
<p>但是，在 PC 的 IE10 下面尝试嵌入 ttf 格式的字体时，会提示这样的信息：</p>
<blockquote>
<p>CSS3114: @font-face 未能完成 OpenType 嵌入权限检查。权限必须是可安装的。 </p>
</blockquote>
<p>原因可能是自制的 ttf 格式没有正确的安装权限造成的。因此，有必要对 ttf 格式进行转换，PC 上的 IE10 支持多种字体格式，如 Embedded-Opentype(eot)、Web Open Font Format(woff)、TrueType(ttf) 和 Scalable Vector Graphics(SVG)，具体可以参考上面文章。</p>
<p>但 WP8 上的 IE10 对字体格式的要求更严格，转换成 IE 专用的 eot 格式之后还是不能正常显示。于是又查了一下资料，发现还是能用的（<a href="http://stackoverflow.com/questions/15819717/font-awesome-not-displayed-on-windows-phone-8" target="_blank">点击这里</a>）。于是把格式换成 woff 之后就没有问题了，ttf 转 woff 的工具在网上都有，可以在线转换（<a href="http://everythingfonts.com/" target="_blank">点击这里有一个网站可以试试</a>）。</p>
<p>PS：最好还是在引用的 url 后面声明一下字体的格式。</p>
<pre><code><span class="at_rule">@<span class="keyword">font-face</span></span> <span class="rules">{
    <span class="rule"><span class="attribute">font-family</span>:<span class="value"> <span class="string">'Test'</span></span></span>;
    <span class="rule"><span class="attribute">src</span>:<span class="value"><span class="function">url(font/font.woff)</span> <span class="function">format(<span class="string">'woff'</span>)</span></span></span>;
<span class="rule">}</span></span>
</code></pre>
	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 7月 3 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/a-brief-about-submitting-a-package-to-package-control.html">Package Control 插件发布流程</a></h1>
  

      <time datetime="2013-07-02T06:57:00.000Z"><a href="/post/a-brief-about-submitting-a-package-to-package-control.html">7月 2 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>Package Control 是 Sublime Text 下的一个插件管理工具，可以很方便地管理需要安装的 Sublime Text 插件。现在已经有不少开发者在上面发布了<a href="http://blog.edi-c.com/post/my-st2-tips" target="_blank">各式各样的插件</a>，对 Sublime Text 本身的扩展还是很有用的。Sublime Text 本身采用了 Python 作为插件编写的语言，因此在插件开发过程中也十分的轻松，可以实时调试插件的效果。</p>
<p>前两天尝试在上面发布了自己的插件 <a href="https://github.com/blastmann/ScriptOgrSender" target="_blank">ScriptOgrSender</a>，提交过程也十分简单，下面简单整理一下：</p>
<ol>
<li><strong>在 <a href="https://github.com/" target="_blank">GitHub</a> 或 <a href="https://bitbucket.org/" target="_blank">BitBucket</a> 中托管你的插件代码。</strong>单个 Repo 只能包含一个插件，同时需要将插件脚本放置于 Repo 的根目录下。</li>
<li><strong>请勿在你的 Repo 中包含 <code>package-metadata.json</code> 文件。</strong>这个文件会在每台客户端中自行创建，用于跟踪安装包的版本。如需对你的插件包描述进行修改，可以在你的 GitHub 和 BitBucket 仓库中修改相应的描述字段。</li>
<li><strong>Fork the Package Control Channel:  </strong><br>GitHub: <a href="https://github.com/wbond/package_control_channel" target="_blank">https://github.com/wbond/package_control_channel</a><br>BitBucket: <a href="https://bitbucket.org/wbond/package_control_channel" target="_blank">https://bitbucket.org/wbond/package_control_channel</a></li>
<li><p><strong>在 <code>repositories.json</code> 文件中添加你的 repo URL。</strong>如果你的插件不是在三个平台（OS X, Windows 和 Linux）下面通用的话，请参阅「<a href="http://wbond.net/sublime_packages/package_control/package_developers#Custom_packages_json_on_GitHub" target="_blank">在 GitHub 上自定义 packages.json</a>」一节。</p>
<p>添加的 URL 格式请参考下面几种形式：</p>
<ul>
<li><a href="https://github.com/user/repo" target="_blank">https://github.com/user/repo</a></li>
<li><a href="https://github.com/user/repo/tree/branch" target="_blank">https://github.com/user/repo/tree/branch</a></li>
<li><a href="https://bitbucket.org/user/repo" target="_blank">https://bitbucket.org/user/repo</a></li>
</ul>
<p>添加你的 URL 时请注意按字母顺序排列添加，以防产生冲突。同时请注意不要在 URL 尾部添加 <code>.git</code>。</p>
</li>
<li><p><strong>在 <code>package_name_map</code> 中添加自己的插件包名字的映射（可选）。</strong>注意，如果你没有自定义 <code>packages.json</code> 文件而且不想用你的 GitHub Repo 的 URL permalink 作为你的插件名字的话，请务必将你想要的插件名字添加到此字段中。如插件托管在 BitBucket 的话，将使用 Repo 的名字，不需要再另外添加映射。</p>
<p><strong>如果你的插件名中包含 <em>Sublime</em> 这个字眼的话，请考虑映射另外一个名字（去除 <em>Sublime</em>）以减少信息噪音。</strong>这里的映射会在 Community Package 列表、ST 中的安装列表和安装后的文件夹名字中生效。</p>
</li>
<li><p><strong>修改时请确保你的修改不会影响其它代码。</strong></p>
</li>
<li><strong>发送一个 Pull 请求。</strong></li>
</ol>
<p>整个提交过程十分简单，我也是第一次在 GitHub 上对其它代码仓库进行代码提交（其实就加了那么一行），提交时还没有注意到添加的 URL 必须按字母顺序排列，结果被打回来再修改了一次。</p>
<p>之前做的插件在跨平台方面也没有什么问题，所以整个代码提交过程也十分轻松，不用特别去制件一个专属的 JSON 文件。只要加入 Package Control 之后，就可以继续在自己的 Repo 中进行代码更新。Package Control 会自动拉取新的代码更新插件包，过程大概需要一两个小时吧。</p>
<p>至于怎么去针对 ST2 和 ST3 进行插件发布呢？这个问题还没有研究清楚，过两天看看怎么处理吧。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 7月 2 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/external-notify-cant-use-with-uglifyjs-compressor.html">window.external.notify() 与 UglifyJS 压缩优化冲突</a></h1>
  

      <time datetime="2013-06-18T11:14:00.000Z"><a href="/post/external-notify-cant-use-with-uglifyjs-compressor.html">6月 18 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>近期研究了一下 UglifyJs 对 JS 代码的压缩，发现 UglifyJS 压缩后，无法调用 <code>window.external.notify()</code> 方法，JS 代码如下：</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">MyNotify</span> <span class="params">()</span> {</span>
    <span class="keyword">try</span>{
        alert(<span class="string">"Notify"</span>);
        window.external.notify(<span class="string">"Notify"</span>);
    } <span class="keyword">catch</span> (e){
        alert(e.message);
    }
}

<span class="function"><span class="keyword">function</span> <span class="title">MyNotifyCompressed</span><span class="params">()</span>{</span>
    <span class="keyword">try</span> {
        alert(<span class="string">"Notify"</span>), window.external.notify(<span class="string">"Notify"</span>);
    } <span class="keyword">catch</span> (e) {
        alert(e.message);
    }
}
</code></pre><p>UglifyJS 在压缩 JS 代码时，压缩选项（-c)中有这么一个参数：</p>
<blockquote>
<p>sequences — join consecutive simple statements using the comma operator</p>
</blockquote>
<p>此选项默认是开启状态。当此选项处于开启状态时，UglifyJS 将会把多行代码压缩为一行并使用逗号进行分隔。压缩后，利用 <code>InvokeScript()</code> 调用 <code>MyNotifyCompressed()</code> 函数，系统将提示：</p>
<blockquote>
<p>Object doesn’t support this action</p>
</blockquote>
<p><code>window.external.notify()</code> 方法无法正常使用，则在程序中的一些逻辑无法正常处理。到底为什么无法调用这个方法呢？暂时也不大明白，可能是作用域出现问题了。</p>
<p>如果使用逗号相连导致不能直接调用 <code>window.external.notify()</code> 的话，那还是把它单独封装成一个函数好了。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 6月 18 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  
<article class="post">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
  <header>
      
      
  
    <h1 class="title"><a href="/post/remote-html5-debugging-on-windows-phone-with-weinre.html">在 Windows Phone 上利用 weinre 远程调试 HTML5 页面</a></h1>
  

      <time datetime="2013-06-14T05:53:00.000Z"><a href="/post/remote-html5-debugging-on-windows-phone-with-weinre.html">6月 14 2013</a></time>
      
  </header>
    <div class="entry">
      
        <p>参考资料：</p>
<ul>
<li><a href="http://blogs.windows.com/windows_phone/b/wpdev/archive/2013/06/12/remote-html5-debugging-on-windows-phone-with-weinre.aspx" target="_blank">Remote HTML5 debugging on Windows Phone with weinre</a></li>
<li><a href="http://msopentech.com/blog/2013/05/31/now-on-ie-and-firefox-debug-your-mobile-html5-page-remotely-with-weinre-web-inspector-remote/" target="_blank">Now on IE and Firefox: Debug your mobile HTML5 page remotely with weinre (WEb INspector REmote)</a></li>
<li><a href="http://www.developer.nokia.com/Community/Wiki/How_to_debug_Windows_Phone_HTML5_Apps" target="_blank">How to debug Windows Phone HTML5 Apps</a></li>
</ul>
<h2 id="weinre_(WEb_INspector_REmote)">weinre (WEb INspector REmote)</h2>
<p>Weinre (WEb INspector REmote) 是一个用于调试 HTML5 页面在移动设备上表现的工具。它是 Apache Cordova 计划中的一部分，旨在帮助开发者在设备上远程调试他们的网页或那些基于 Cordova 的移动 App。 Weinre 可远程地进行 DOM 的审查，让开发者在设备上调试 HTML5 页面显示效果更为方便。</p>
<p>如果你熟悉 IE 上的 F12 审查工具、Firefox 上的 Firebug 或 Chrome 的 Web 审查工具，那你将会十分熟悉 Weinre，因为它们非常相像。</p>
<h2 id="安装部署">安装部署</h2>
<ol>
<li>到 <a href="http://nodejs.org/" target="_blank">Node.js</a> 对应平台的版本，安装部署 Node.js。</li>
<li><p>启动 Node.js 的命令提示符，输入下面命令安装 weinre：<code>npm -g -install weinre</code></p>
<p><em>PS</em>：如系统有设置代理的话，可在环境变量中添加 <code>http_proxy</code> 和 <code>https_proxy</code> 两个变量，并设置为代理地址。</p>
</li>
<li><p>安装完成后，输入以下命令启动 weinre： <code>weinre -boundHost xx.xx.xx.xx</code>，<code>xx.xx.xx.xx</code> 你想要绑定的网络适配器 IP 地址。</p>
</li>
<li><p>在浏览器中输入 <code>http://xx.xx.xx.xx:8080</code> 即可打开 weinre 页面。页面如下：</p>
<p><img src="http://d.pr/i/qRTc.png" alt="weinre_console"></p>
</li>
</ol>
<h2 id="开始调试">开始调试</h2>
<p>如果你所在的网络环境不复杂的话，其实已经可以开始调试你的页面了。步骤如下：</p>
<ol>
<li><p>在 PC 上启动调试器客户端页面：<a href="http://xx.xx.xx.xx:8080/client（xx.xx.xx.xx" target="_blank">http://xx.xx.xx.xx:8080/client（xx.xx.xx.xx</a> 的含义如上文所述），打开后可以看到下面的界面：</p>
<p><img src="http://d.pr/i/AvaR.png" alt="weinre_client"></p>
</li>
<li><p>在需要调试的页面中加入下面的标签：</p>
<pre><code><span class="tag">&lt;<span class="title">script</span> <span class="attribute">src</span>=<span class="value">”http:</span>//<span class="attribute">xx.xx.xx.xx:8080</span>/<span class="attribute">target</span>/<span class="attribute">target-script-min.js</span>#<span class="attribute">anonymous</span>”&gt;</span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>&gt;</span>
</code></pre></li>
<li><p>然后在应用中打开需要调试的页面，即可在开始调试。</p>
</li>
</ol>
<p><em>PS</em>：关于如何使用 Fiddler 与 Windows Phone 进行联合调试，可以参考这篇文章：《<a href="http://scriptogr.am/blastmann/post/fiddlershare" target="_blank">Fiddler 与 Windows Phone 联调</a>》。</p>

	 
	     <p style="margin:20px 0; color:#9f9f9f; font-size:12px;">
<span>Posted by <a style="color:#9f9f9f;" href="http://weibo.com/newdings/"><strong>@cmm要给力</strong></a> - 6月 14 2013</span><br />
<span style="line-height:13px;">如需转载，请注明： 本文来自 <a style="color:#9f9f9f;" href="http://blog.edi-c.com"><strong>@chaoming.edc blog</strong></a></span>
</p>
       	 
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
    <a href="/" class="alignleft prev">上一页</a>
  
  
    <a href="/page/3/" class="alignright next">下一页</a>
  
</nav></div>
    </div>
    <div class="tabbar" onload="divideTabBar()">
	
      <div class="tabbaritem"><a class="next" href="/">Home</a></div>
    
      <div class="tabbaritem"><a class="next" href="/archives/">Archives</a></div>
    
      <div class="tabbaritem"><a class="next" href="/about/">About</a></div>
    
      <div class="tabbaritem"><a class="next" href="/atom.xml">Subscribe</a></div>
    
</div>


  </div>

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.min.js"></script>
</body>
</html>